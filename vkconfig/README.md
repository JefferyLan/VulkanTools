<p align="center"><img src="https://imgshare.io/images/2020/06/02/Vulkan-Configurator.png" /></p>

[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)

Vulkan Configurator allows overriding the [layers configuration](https://vulkan.lunarg.com/doc/view/latest/windows/layer_configuration.html) of Vulkan applications.

A Vulkan applications may configure layers when creating a Vulkan Instance. This layer configuration may be overridden using two approaches:
- Using a vk_layer_settings.txt file in the application local directory based on documented settings (([validation](https://github.com/KhronosGroup/Vulkan-ValidationLayers/blob/master/layers/vk_layer_settings.txt), [other](https://github.com/LunarG/VulkanTools/blob/master/layersvt/vk_layer_settings.txt))).
- Using Vulkan Configurator to override all Vulkan applications layers or a selected list of Vulkan applications.

* **Bug reports**: Please submit [GitHub issues](https://github.com/LunarG/VulkanTools/issues) if you encounter any issue.
* **Contact**: [richard@lunarg.com](mailto:richard@lunarg.com)
* **Information for contributors**: [All contribution information](../CONTRIBUTING.md), [Compilation instructions](#compiling), [Roadmap](#roadmap)

Screenshots
--------------

| [ ![Main Window](https://imgshare.io/images/2020/06/02/main-window_320px.png) ](https://imgshare.io/images/2020/06/02/main-window.png) | [ ![Overriding multiple layers](https://imgshare.io/images/2020/06/02/multiple_layers_320px.png) ](https://imgshare.io/images/2020/06/02/multiple_layers.png) |
| --- | --- |
| [ ![Vulkan Applications launchers](https://imgshare.io/images/2020/06/02/launcher_320px.png) ](https://imgshare.io/images/2020/06/02/launcher.png) | [ ![Vulkan Layers slection and ordering ](https://imgshare.io/images/2020/06/02/layers-selection-and-ordering_320px.png) ](https://imgshare.io/images/2020/06/02/layers-selection-and-ordering.png) |

Platform Support
--------------

| Windows                  | Linux                    | macOS                    |
| ------------------------ | ------------------------ | ------------------------ |
| :heavy_check_mark:       | :heavy_check_mark:       | :heavy_check_mark:       |

Downloads
--------------

Vulkan Configurator is part of [Vulkan SDK](https://vulkan.lunarg.com/sdk/home#windows) releases.

License
--------------
Vulkan Configurator is part of Vulkan Tools released under the Apache 2.0 license, see [LICENSE.txt](../LICENSE.txt) for full text.

Compiling
--------------

TODO
- Tools that needs to be installed
- Things that needs to be the %PATH% 
- Command lines, actions to build
TODO

OS User-Specific Monifications
--------------

The Vulkan Configurator does not make any system-wide changes to a system, but it does make user-specific changes.
These changes are documented below:

### Linux/Mac

Unix systems store files in the following paths:

- `$HOME/.local/share/vulkan/implicit_layer.d/VkLayer_override.json` tells a Vulkan application which layers to use
- `$HOME/.local/share/vulkan/settings.d/vk_layer_settings.txt` tells Vulkan layers which settings to use
- `$HOME/.config/LunarG/vkconfig.conf` stores the application settings for `vkconfig`

### Windows

Windows systems store files in the following paths:

- `%TEMP%\VulkanLayerManager\VkLayerOverride.json` tells a Vulkan application which layers to use
- `%TEMP%\VulkanLayerManager\vk_layer_settings.json` tells Vulkan layers which settings to use

In addition, Windows system create registry entries in the following locations:

- `HKEY_CURRENT_USER\Software\Khronos\Vulkan\ImplicitLayers` will have an entry that points to the JSON file above
- `HKEY_CURRENT_USER\Software\Khronos\Vulkan\Settings` will have an entry that points to the text file above
- `HKEY_CURRENT_USER\Software\LunarG\vkconfig` stores the application settings for `vkconfig`

Roadmap
--------------

- Full coverage of VK_EXT_debug_utils for message filtering.

- Refactor the loader to replace vk_layer_settings.txt and VkLayer_override.json by json files generated by vkConfig
> Global layers overriding file is placed in VulkanLayerManager directory.
> Local layers overriding file / selected Vulkan application is placed the application directory.

- Improve layer ordering representation and accuracy.

- Add Import and export of layers configurations.

- When an old loader is present on the system, disable the "Apply layers override only on selected Vulkan applications" checkbox and use tool tip to tell the user the loader is too old.

- Use CMake build system.

Known issues
--------------

- Tool tips are not yet implemented.
- Missing description for each settings
- There is no warning when there is a local layer configuration file. Layers will use the override layer settings and ignore the local file and users need to be aware of this.
- Layer paths may not be duplicated in the layer override .json file. They currently are.
- Layer execution order express in the "Select Vulkan Layers to override and execution order" is not accurate.

